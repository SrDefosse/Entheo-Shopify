{% doc %}
  @prompt
    A section called Upcoming Collections, that showcases 4 upcoming collections in a grid layout, with hover and shadow effects, Color scheme must be inherited correctly, Color scheme must be inherited from its parent section, The cards background must have backdrop blur background, images must be contained and centered in their container.
    
    layout must be a grid layout
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-upcoming-collections-{{ ai_gen_id }} {
    padding: 60px 20px;
  }

  .ai-upcoming-collections__container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
  }

  .ai-upcoming-collections__header-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: 40px;
  }

  .ai-upcoming-collections__title-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_size }}px;
    margin: 0 0 12px;
  }

  .ai-upcoming-collections__subtitle-{{ ai_gen_id }} {
    font-size: {{ block.settings.subtitle_size }}px;
    opacity: 0.8;
    margin: 0;
  }

  .ai-upcoming-collections__grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 24px;
  }

  .ai-upcoming-collections__card-{{ ai_gen_id }} {
    position: relative;
    border-radius: {{ block.settings.card_border_radius }}px;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .ai-upcoming-collections__card-{{ ai_gen_id }}:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
  }

  .ai-upcoming-collections__card-link-{{ ai_gen_id }} {
    display: block;
    text-decoration: none;
    color: inherit;
  }

  .ai-upcoming-collections__image-wrapper-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    height: 400px;
    overflow: hidden;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-upcoming-collections__image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: transform 0.3s ease;
  }

  .ai-upcoming-collections__card-{{ ai_gen_id }}:hover .ai-upcoming-collections__image-{{ ai_gen_id }} {
    transform: scale(1.05);
  }

  .ai-upcoming-collections__image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-upcoming-collections__image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-upcoming-collections__content-{{ ai_gen_id }} {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 24px;
    background: rgba(255, 255, 255, {{ block.settings.backdrop_opacity }});
    backdrop-filter: blur({{ block.settings.backdrop_blur }}px);
    -webkit-backdrop-filter: blur({{ block.settings.backdrop_blur }}px);
  }

  .ai-upcoming-collections__collection-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.collection_title_size }}px;
    font-weight: 600;
    margin: 0 0 8px;
  }

  .ai-upcoming-collections__collection-description-{{ ai_gen_id }} {
    font-size: {{ block.settings.collection_description_size }}px;
    margin: 0 0 12px;
    opacity: 0.9;
  }

  .ai-upcoming-collections__date-{{ ai_gen_id }} {
    font-size: {{ block.settings.date_size }}px;
    font-weight: 500;
    opacity: 0.7;
    margin: 0;
  }

  @media screen and (max-width: 989px) {
    .ai-upcoming-collections__grid-{{ ai_gen_id }} {
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }
  }

  @media screen and (max-width: 749px) {
    .ai-upcoming-collections__grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 16px;
    }

    .ai-upcoming-collections__image-wrapper-{{ ai_gen_id }} {
      height: 300px;
    }

    .ai-upcoming-collections__content-{{ ai_gen_id }} {
      padding: 16px;
    }
  }
{% endstyle %}

<div class="ai-upcoming-collections-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-upcoming-collections__container-{{ ai_gen_id }}">
    {% if block.settings.heading != blank or block.settings.subtitle != blank %}
      <div class="ai-upcoming-collections__header-{{ ai_gen_id }}">
        {% if block.settings.heading != blank %}
          <h2 class="ai-upcoming-collections__title-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
        {% endif %}
        {% if block.settings.subtitle != blank %}
          <p class="ai-upcoming-collections__subtitle-{{ ai_gen_id }}">{{ block.settings.subtitle }}</p>
        {% endif %}
      </div>
    {% endif %}

    <div class="ai-upcoming-collections__grid-{{ ai_gen_id }}">
      {% for i in (1..4) %}
        {% liquid
          assign collection_key = 'collection_' | append: i
          assign title_key = 'collection_' | append: i | append: '_title'
          assign description_key = 'collection_' | append: i | append: '_description'
          assign date_key = 'collection_' | append: i | append: '_date'
          assign image_key = 'collection_' | append: i | append: '_image'
          assign url_key = 'collection_' | append: i | append: '_url'

          assign collection_title = block.settings[title_key]
          assign collection_description = block.settings[description_key]
          assign collection_date = block.settings[date_key]
          assign collection_image = block.settings[image_key]
          assign collection_url = block.settings[url_key]
        %}

        <div class="ai-upcoming-collections__card-{{ ai_gen_id }}">
          {% if collection_url != blank %}
            <a href="{{ collection_url }}" class="ai-upcoming-collections__card-link-{{ ai_gen_id }}">
          {% else %}
            <div class="ai-upcoming-collections__card-link-{{ ai_gen_id }}">
          {% endif %}
            <div class="ai-upcoming-collections__image-wrapper-{{ ai_gen_id }}">
              {% if collection_image %}
                <img
                  src="{{ collection_image | image_url: width: 600 }}"
                  alt="{{ collection_title | escape }}"
                  class="ai-upcoming-collections__image-{{ ai_gen_id }}"
                  loading="lazy"
                  width="600"
                  height="600"
                >
              {% else %}
                <div class="ai-upcoming-collections__image-placeholder-{{ ai_gen_id }}">
                  {{ 'collection-1' | placeholder_svg_tag }}
                </div>
              {% endif %}

              <div class="ai-upcoming-collections__content-{{ ai_gen_id }}">
                {% if collection_title != blank %}
                  <h3 class="ai-upcoming-collections__collection-title-{{ ai_gen_id }}">{{ collection_title }}</h3>
                {% endif %}
                {% if collection_description != blank %}
                  <p class="ai-upcoming-collections__collection-description-{{ ai_gen_id }}">{{ collection_description }}</p>
                {% endif %}
                {% if collection_date != blank %}
                  <p class="ai-upcoming-collections__date-{{ ai_gen_id }}">{{ collection_date }}</p>
                {% endif %}
              </div>
            </div>
          {% if collection_url != blank %}
            </a>
          {% else %}
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Upcoming collections",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Section header"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Upcoming Collections"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 40
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Discover what's coming soon"
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Subtitle size",
      "default": 16
    },
    {
      "type": "header",
      "content": "Card style"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 16
    },
    {
      "type": "range",
      "id": "backdrop_blur",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Backdrop blur",
      "default": 10
    },
    {
      "type": "range",
      "id": "backdrop_opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "label": "Backdrop opacity",
      "default": 0.8
    },
    {
      "type": "range",
      "id": "collection_title_size",
      "min": 14,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Collection title size",
      "default": 20
    },
    {
      "type": "range",
      "id": "collection_description_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Description size",
      "default": 14
    },
    {
      "type": "range",
      "id": "date_size",
      "min": 10,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Date size",
      "default": 12
    },
    {
      "type": "header",
      "content": "Collection 1"
    },
    {
      "type": "image_picker",
      "id": "collection_1_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "collection_1_title",
      "label": "Title",
      "default": "Spring Collection"
    },
    {
      "type": "textarea",
      "id": "collection_1_description",
      "label": "Description",
      "default": "Fresh styles for the new season"
    },
    {
      "type": "text",
      "id": "collection_1_date",
      "label": "Launch date",
      "default": "Coming March 2025"
    },
    {
      "type": "url",
      "id": "collection_1_url",
      "label": "Link"
    },
    {
      "type": "header",
      "content": "Collection 2"
    },
    {
      "type": "image_picker",
      "id": "collection_2_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "collection_2_title",
      "label": "Title",
      "default": "Summer Essentials"
    },
    {
      "type": "textarea",
      "id": "collection_2_description",
      "label": "Description",
      "default": "Beat the heat in style"
    },
    {
      "type": "text",
      "id": "collection_2_date",
      "label": "Launch date",
      "default": "Coming June 2025"
    },
    {
      "type": "url",
      "id": "collection_2_url",
      "label": "Link"
    },
    {
      "type": "header",
      "content": "Collection 3"
    },
    {
      "type": "image_picker",
      "id": "collection_3_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "collection_3_title",
      "label": "Title",
      "default": "Fall Preview"
    },
    {
      "type": "textarea",
      "id": "collection_3_description",
      "label": "Description",
      "default": "Cozy layers and warm tones"
    },
    {
      "type": "text",
      "id": "collection_3_date",
      "label": "Launch date",
      "default": "Coming September 2025"
    },
    {
      "type": "url",
      "id": "collection_3_url",
      "label": "Link"
    },
    {
      "type": "header",
      "content": "Collection 4"
    },
    {
      "type": "image_picker",
      "id": "collection_4_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "collection_4_title",
      "label": "Title",
      "default": "Holiday Special"
    },
    {
      "type": "textarea",
      "id": "collection_4_description",
      "label": "Description",
      "default": "Celebrate in style"
    },
    {
      "type": "text",
      "id": "collection_4_date",
      "label": "Launch date",
      "default": "Coming December 2025"
    },
    {
      "type": "url",
      "id": "collection_4_url",
      "label": "Link"
    }
  ],
  "presets": [
    {
      "name": "Upcoming collections"
    }
  ]
}
{% endschema %}
