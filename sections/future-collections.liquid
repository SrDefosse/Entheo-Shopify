{% comment %}
  Future Collections Preview Section
  Preview cards for upcoming collections with "Coming Soon" badges
{% endcomment %}

<div
  class="future-collections-section section section--{{ section.settings.section_width }} color-{{ section.settings.color_scheme }} spacing-style"
  style="{% render 'spacing-style', settings: section.settings %}"
>
  <div class="future-collections-container page-width">
    {% if section.settings.heading != blank %}
      <div class="future-collections-header" data-gsap-animation="fade-in">
        <h2 class="future-collections-heading {{ section.settings.heading_size }}">
          {{ section.settings.heading }}
        </h2>
        {% if section.settings.description != blank %}
          <div class="future-collections-description rte">
            {{ section.settings.description }}
          </div>
        {% endif %}
      </div>
    {% endif %}

    <div
      class="future-collections-grid"
      style="
        --fc-columns-desktop: {{ section.settings.columns_desktop }};
        --fc-columns-mobile: {{ section.settings.columns_mobile }};
        --fc-gap: {{ section.settings.gap }}px;
      "
      data-gsap-animation="stagger"
    >
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'collection_preview' %}
            <div class="future-collection-card" {{ block.shopify_attributes }}>
              <div class="future-collection-card-inner">
                {%- comment -%} Image Section {%- endcomment -%}
                <div class="future-collection-image-section">
                  <div class="future-collection-image-wrapper">
                    {% if block.settings.image != blank %}
                      {% assign sizes_value = '(min-width: 750px) calc(100vw / ' | append: section.settings.columns_desktop | append: '), calc(100vw / ' | append: section.settings.columns_mobile | append: ')' %}
                      {{
                        block.settings.image
                        | image_url: width: 800
                        | image_tag: loading: "lazy", class: "future-collection-image", widths: "400, 600, 800", sizes: sizes_value
                      }}
                    {% else %}
                      <div class="future-collection-placeholder">
                        {{ 'collection-1' | placeholder_svg_tag: 'placeholder-svg' }}
                      </div>
                    {% endif %}

                    {%- comment -%} Hover Overlay {%- endcomment -%}
                    <div class="future-collection-overlay">
                      <div class="future-collection-overlay-content">
                        {% if block.settings.collection_name != blank %}
                          <h3 class="future-collection-name">{{ block.settings.collection_name }}</h3>
                        {% endif %}
                        {% if block.settings.season != blank or block.settings.year != blank %}
                          <p class="future-collection-season">
                            {{ block.settings.season }}
                            {% if block.settings.season != blank and block.settings.year != blank %}/{% endif %}
                            {{ block.settings.year }}
                          </p>
                        {% endif %}
                        {% if block.settings.teaser_text != blank %}
                          <p class="future-collection-teaser">{{ block.settings.teaser_text }}</p>
                        {% endif %}
                      </div>
                    </div>
                  </div>
                </div>

                {%- comment -%} Content Section {%- endcomment -%}
                <div class="future-collection-content-section">
                  {% if block.settings.collection_name != blank %}
                    <h3 class="future-collection-title">{{ block.settings.collection_name }}</h3>
                  {% endif %}

                  {% if block.settings.release_date != blank %}
                    <p class="future-collection-date">
                      <svg class="future-collection-date-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path
                          d="M5.33333 1.33334V3.33334M10.6667 1.33334V3.33334M2.66667 6.66668H13.3333M3.33333 2.66668H12.6667C13.403 2.66668 14 3.26363 14 4.00001V13.3333C14 14.0697 13.403 14.6667 12.6667 14.6667H3.33333C2.59695 14.6667 2 14.0697 2 13.3333V4.00001C2 3.26363 2.59695 2.66668 3.33333 2.66668Z"
                          stroke="currentColor"
                          stroke-width="1.5"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      {{ block.settings.release_date }}
                    </p>
                  {% endif %}

                  {% if block.settings.short_description != blank %}
                    <p class="future-collection-description">{{ block.settings.short_description }}</p>
                  {% endif %}
                </div>
              </div>
            </div>
        {% endcase %}
      {% endfor %}
    </div>

    {% if section.settings.footer_text != blank %}
      <div class="future-collections-footer" data-gsap-animation="fade-in">
        <div class="future-collections-footer-content glass-card">
          {{ section.settings.footer_text }}
        </div>
      </div>
    {% endif %}
  </div>
</div>

{% stylesheet %}
  .future-collections-section {
    position: relative;
  }

  .future-collections-container {
    width: 100%;
  }

  .future-collections-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .future-collections-heading {
    margin-bottom: 1rem;
  }

  .future-collections-description {
    max-width: 600px;
    margin: 0 auto;
    font-size: 1.1rem;
    color: rgba(var(--color-foreground-rgb), 0.7);
  }

  .future-collections-grid {
    display: grid;
    grid-template-columns: repeat(var(--fc-columns-mobile), 1fr);
    gap: var(--fc-gap);
  }

  @media screen and (min-width: 750px) {
    .future-collections-grid {
      grid-template-columns: repeat(var(--fc-columns-desktop), 1fr);
    }
  }

  .future-collection-card {
    position: relative;
  }

  .future-collection-card-inner {
    position: relative;
    height: 100%;
    overflow: hidden;
    background: rgba(var(--color-background-rgb), 0.95);
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(var(--color-foreground-rgb), 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  .future-collection-image-section {
    position: relative;
    background: rgba(var(--color-foreground-rgb), 0.03);
    border-bottom: 1px solid rgba(var(--color-foreground-rgb), 0.08);
  }

  .future-collection-image-wrapper {
    position: relative;
    width: 100%;
    aspect-ratio: 4 / 5;
    overflow: hidden;
  }

  .future-collection-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 1rem;
  }

  .future-collection-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(var(--color-foreground-rgb), 0.05);
    padding: 1rem;
  }


  .future-collection-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.4s ease;
    padding: 2rem;
    z-index: 2;
    background: rgba(var(--color-background-rgb), 0.8);
    border: 1px solid rgba(var(--color-foreground-rgb), 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  @media (hover: hover) {
    .future-collection-card:hover .future-collection-overlay {
      opacity: 1;
    }

    .future-collection-card:hover .future-collection-card-inner {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }
  }

  .future-collection-overlay-content {
    text-align: center;
    width: 100%;
    max-width: 300px;
  }

  .future-collection-name {
    font-size: 1.5rem;
    margin: 0 0 0.5rem 0;
    color: var(--color-background);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }

  .future-collection-season {
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: rgba(var(--color-background-rgb), 0.9);
    margin: 0 0 1rem 0;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  .future-collection-teaser {
    font-size: 0.95rem;
    line-height: 1.5;
    color: rgba(var(--color-background-rgb), 0.95);
    margin: 0 0 1.5rem 0;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }


  .future-collection-content-section {
    padding: 1.5rem;
    background: rgba(var(--color-background-rgb), 0.02);
    position: relative;
  }

  .future-collection-title {
    font-size: 1.2rem;
    margin: 0 0 0.5rem 0;
    color: var(--color-foreground);
    font-weight: 600;
  }

  .future-collection-date {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: rgba(var(--color-foreground-rgb), 0.7);
    margin: 0 0 0.75rem 0;
  }

  .future-collection-date-icon {
    flex-shrink: 0;
    color: rgba(var(--color-foreground-rgb), 0.7);
  }

  .future-collection-description {
    font-size: 0.95rem;
    line-height: 1.6;
    color: rgba(var(--color-foreground-rgb), 0.8);
    margin: 0;
  }

  .future-collections-footer {
    margin-top: 4rem;
    text-align: center;
  }

  .future-collections-footer-content {
    display: inline-block;
    padding: 1.5rem 2.5rem;
    font-size: 1.05rem;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Future Collections",
  "tag": "section",
  "class": "future-collections-wrapper section-wrapper",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Coming Soon"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading size",
      "options": [
        { "value": "h3", "label": "Small" },
        { "value": "h2", "label": "Medium" },
        { "value": "h1", "label": "Large" }
      ],
      "default": "h2"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Get a sneak peek at our upcoming collections</p>"
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "label": "Columns (desktop)",
      "min": 2,
      "max": 4,
      "step": 1,
      "default": 3
    },
    {
      "type": "select",
      "id": "columns_mobile",
      "label": "Columns (mobile)",
      "options": [
        { "value": "1", "label": "1" },
        { "value": "2", "label": "2" }
      ],
      "default": "1"
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap between cards",
      "min": 8,
      "max": 50,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "richtext",
      "id": "footer_text",
      "label": "Footer text",
      "info": "Optional text shown below collections"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "Section width",
      "options": [
        { "value": "page-width", "label": "Page width" },
        { "value": "full-width", "label": "Full width" }
      ],
      "default": "page-width"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding-block-start",
      "label": "Top padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding-block-end",
      "label": "Bottom padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "collection_preview",
      "name": "Collection Preview",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Preview image"
        },
        {
          "type": "text",
          "id": "collection_name",
          "label": "Collection name",
          "default": "Winter 2025"
        },
        {
          "type": "text",
          "id": "season",
          "label": "Season",
          "default": "Winter"
        },
        {
          "type": "text",
          "id": "year",
          "label": "Year",
          "default": "2025"
        },
        {
          "type": "text",
          "id": "release_date",
          "label": "Release date",
          "default": "December 2024"
        },
        {
          "type": "text",
          "id": "short_description",
          "label": "Short description",
          "default": "A celebration of minimalist design and winter elegance"
        },
        {
          "type": "textarea",
          "id": "teaser_text",
          "label": "Teaser text (hover overlay)",
          "default": "Inspired by the quiet beauty of winter landscapes"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Future Collections",
      "blocks": [
        {
          "type": "collection_preview",
          "settings": {
            "collection_name": "Winter 2025",
            "season": "Winter",
            "year": "2025"
          }
        },
        {
          "type": "collection_preview",
          "settings": {
            "collection_name": "Spring 2025",
            "season": "Spring",
            "year": "2025"
          }
        },
        {
          "type": "collection_preview",
          "settings": {
            "collection_name": "Summer 2025",
            "season": "Summer",
            "year": "2025"
          }
        },
        {
          "type": "collection_preview",
          "settings": {
            "collection_name": "Autumn 2025",
            "season": "Autumn",
            "year": "2025"
          }
        }
      ]
    }
  ]
}
{% endschema %}

